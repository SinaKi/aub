\subsection{Skiplisten}
Eine randomisierte Alternative zu $(2,4)-$,AVL-, Rot-Schwarz-, \dots -Bäume.

\paragraph*{Gegeben} $S = \{ x_1, x_2, \dots, x_n\} \subseteq U$ aus einem total geordneten Universum.

\paragraph*{Ziel} Baue eine Datenstruktur für $S$, sodass man effizient
\begin{itemize}
	\item für gegebenes $x \in U$ das maximale Element $x' \in S$ mit $x' \leq x$ bzw. das minimale Element mit $x'' \geq x$
	\item Elemente hinzufügen kann
	\item Elemente löschen kann
\end{itemize}

\paragraph*{Naiv} Sortiere Liste:
\begin{itemize}
	\item Suchzeit $~n$ %TODO ~
	\item $O(1)$ falls Position bekannt, sonst $O(n)$ für Einfügen
	\item $O(1)$ falls Position bekannt, sonst $O(n)$ für löschen
\end{itemize}
Platz: $O(n)$

\paragraph*{Besser} (2,3,4)-Baum:
\begin{itemize}
	\item Platz: $O(n)$
	\item Suchzeit: $O(\log n)$
	\item Einfügen/Löschen: $O(\log n)$
\end{itemize}
%TODO notiz

\paragraph*{Beispiel} %TODO graph

\paragraph*{} Bei Einfügen eines Elements wird zufällig eine 'Turmhöhe' $h$ gewürfelt mit $Pr(h=i)=2^{-(i+1)}$.

\paragraph*{} Verbinde jede Turmetage mit dem nächsten Turm, der auf der gleichen Höhe rechts davon sichtbar ist.

%TODO pseudocode

\paragraph*{Zu zeigen} Erwartete Suchzeit nach einem Element $x \in U$ ist $O(\log n)$.

\paragraph*{Standardbeweis} Definiere Zufallsvariable $x_{i,k} = $ %TODO fallunterscheidung
$\Rightarrow$ Laufzeit = $\sum\limits_{i=0}^{j-1} \sum\limits_{h \geq 0} x_{i,k}$ falls $x$ Rang $j$ in der Schlüsselmenge hat.

$$\vdots$$

\paragraph*{Alternativer Beweis}
\subparagraph*{Lemma} Die erwartete Höhe eines Turms über einem Element $x_i$ ist $O(1)$.
\subparagraph*{Beweis} (in Übung)

\paragraph*{Maximalhöhe eines Turms} Was ist die Maximalhöhe eines vorkommenden Turms?
\begin{itemize}
	\item Mit $\overbrace{hoher Wahrscheinlichkeit}$%{$\geq 1 - \frac{1}{n^2}$ für ein $c>0$} %TODO fix overbrace
	ist ein fixer Turm nicht höher als $~ \log n$ %TODO ~
	$Pr(h_i \geq k) = 2^{-k} \Rightarrow Pr(h_i = 2 \cdot \log n) = \frac{1}{n^2}$
	\item Wahrscheinlichkeit, dass \underline{irgendein} Turm Höhe $\geq 2 \log n$ hat, ist $Pr(h_1 \geq 2 \log n \lor h_2 \geq 2 \log n \lor \dots \lor h_n \geq 2 \log n) \leq n \frac{1}{n^2} = \frac{1}{n}$ %TODO notiz
\end{itemize}

%TODO graph

\paragraph*{} Also sind mit hoher Wahrscheinlichkeit $(\geq 1 - \frac{1}{n})$ alle Türme nicht größer als $2 \log n$.

\paragraph*{Idee für Analyse} Konstruiere Routine, die genau die selben Zellen ($\overbrace{=}$ Turm + Etage) besucht wie Suchroutine, aber einfacher zu analysieren. %TODO ^=


\begin{lstlisting}[mathescape]
v $\leftarrow$ x
h $\leftarrow$ 0
while v $\not= - \infty \cap h \not= h_{max}$ do
	if v.height > h then
		h $\leftarrow$ h+1
	else
		v = v.backward[h]
od
\end{lstlisting} %TODO notiz

\paragraph*{} Besucht offensichtlich gleiche Zellen wie die Suche.

\paragraph*{Beobachtung} Wenn man als Männchen, der den obigen Algorithmus ausführen muss, in der Zelle eines Turms sitzt, dann muss man mit der Wahrscheinlichkeit $\frac{1}{2}$ ein Stockwerk hoch gehen und mit der Wahrscheinlichkeit $\frac{1}{2}$ nach links.
\paragraph*{} $\Rightarrow$ Erwartete Anzahl Linksschritte = erwartete Anzahl Hochschritte
$\Rightarrow$ Erwartete Anzahl Linksschritte = $O(\log n)$
$\Rightarrow$ Gesamtlaufzeit der Suche erwartet $O(\log n)$. %TODO anordnung

\section{Das Wörterbuchproblem (Hashing)}
Gegeben ist ein Universum $U$ (sehr groß) und eine Teilmenge $S \subseteq U$ (eher klein) sowie ein $m \in \mathbb{N}$ ist das Ziel die Bestimmung einer Funktion.
\begin{itemize}
	\item[] $h : U \rightarrow \{ 0,1,\dot,m-1 \}$
	\item[]sodass: $|\{ x \in S | h(x) =i \}| \leq \frac{|S|}{m}$ %TODO äußere | größer machen, aufrunden
\end{itemize}

\subsection{Beispiel}
\subsubsection*{Telefonbuch von Stuttgart}
\paragraph*{Aufgabe} Für gegeben Name + Vorname die entsprechende Telefonnummer finden.
\begin{itemize}
	\item $|U|$ = sehr große
	\item $|S|$ = $500 000$
	\item Ideal: $m = 500 000$
\end{itemize}
Dann speichere $500 000$ Telefonnummern in Array, sodass $h$ für gegebenen Namen + Vornamen genau den Index im Array liefert, wo entsprechende Telefonnummer steht.

\paragraph*{} Falls $h()$ in $O(1)$ ausgewertet werden kann, hat man $O(1)$ Zugriff auf die Information.